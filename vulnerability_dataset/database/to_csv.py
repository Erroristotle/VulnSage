import sqlite3
import csv

# Connect to the SQLite database
conn = sqlite3.connect("database.sqlite")
cursor = conn.cursor()

# Execute the query
# cursor.execute("SELECT * FROM vulnerabilities_deepseek_r1_7b")
cursor.execute("SELECT * FROM vulnerabilities")
rows = cursor.fetchall()

# Write the data to a CSV file with headers
# with open("vulnerabilities_deepseek_r1_7b.csv", "w", newline="") as csvfile:
with open("vulnerabilities.csv", "w", newline="") as csvfile:
    csvwriter = csv.writer(csvfile)
    headers = [description[0] for description in cursor.description]
    csvwriter.writerow(headers)
    csvwriter.writerows(rows)

conn.close()


